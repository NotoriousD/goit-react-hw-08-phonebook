(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[3],{147:function(t,e,n){t.exports={border:"contactform_border__3hdmC",title:"contactform_title__237Tk",headWrapper:"contactform_headWrapper__dZIpO",error:"contactform_error__3Yq-j",appear:"contactform_appear__hFV5T",appearActive:"contactform_appearActive__2Iw-I",enter:"contactform_enter__3BlN3",enterActive:"contactform_enterActive__31XNw",exit:"contactform_exit__3fG2z",exitActive:"contactform_exitActive__2636F",form:"contactform_form__1NOWd",button:"contactform_button__bBapZ",input:"contactform_input__4tWjp"}},151:function(t,e,n){t.exports={list:"contactlist_list__3iv4U",wrapper:"contactlist_wrapper__2PWZW",container:"contactlist_container__1n7IH",buttonWrapper:"contactlist_buttonWrapper__UQAgA",closeBtn:"contactlist_closeBtn__1Dd8a",telNumber:"contactlist_telNumber__eCtiD",enter:"contactlist_enter__22PI_",enterActive:"contactlist_enterActive__1mqVQ",exit:"contactlist_exit__2B609",exitActive:"contactlist_exitActive__mQFRp"}},152:function(t,e,n){t.exports={container:"filter_container__1aPV5",wrapper:"filter_wrapper__24Nfw"}},153:function(t,e,n){t.exports={container:"contactpage_container__2P3ir",wrapper:"contactpage_wrapper__3eajR"}},154:function(t,e,n){t.exports={enter:"pop_enter__1W3Nl",enterActive:"pop_enterActive__K-9xn",exit:"pop_exit__26NG-",exitActive:"pop_exitActive__3qvIC"}},161:function(t,e,n){"use strict";n.r(e);var a=n(56),c=n(57),r=n(59),o=n(58),i=n(0),s=n.n(i),u=n(14),l=n(74),m=n(5),p=n(147),_=n.n(p),f=n(15),d=n(30),h=n.n(d),b={addContact:function(t,e){return function(n){n(f.a.addContactRequest()),h.a.post("/contacts",{name:t,number:e}).then((function(t){var e=t.data;return n(f.a.addContactSuccess(e))})).catch((function(t){return n(f.a.addContactError(t))}))}},fetchContacts:function(){return function(t){t(f.a.fetchContactsRequest()),h.a.get("/contacts").then((function(e){var n=e.data;return t(f.a.fetchContactsSuccess(n))})).catch((function(e){return t(f.a.fetchContactsError(e))}))}},deleteContact:function(t){return function(e){e(f.a.deleteContactRequest()),h.a.delete("/contacts/".concat(t)).then((function(){return e(f.a.deleteContactSuccess(t))})).catch((function(t){return e(f.a.deleteContactError(t))}))}}},v=(n(62),n(24)),C=function(t){return t.contacts.filter},E=function(t){return t.contacts.items},N={getContacts:E,getLoading:function(t){return t.contacts.loading},getFilter:C,showContacts:Object(v.a)([E,C],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},g=n(158),x=n(148),w=n.n(x),O=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",isExist:!1,duplicateContact:""},t.handleInput=function(e){return t.setState(Object(m.a)({},e.currentTarget.name,e.currentTarget.value))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number;t.props.contacts.map((function(t){return t.name.toLowerCase()})).includes(a.toLowerCase())?(t.setState({isExist:!0,duplicateContact:a}),setTimeout((function(){return t.setState({isExist:!1,duplicateContact:""})}),2e3)):(t.props.onAddContact(a,c),t.setState({name:"",number:"",isExist:!1,duplicateContact:""}))},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.isExist,c=t.duplicateContact;return s.a.createElement("div",null,s.a.createElement("div",{className:_.a.headWrapper},s.a.createElement(g.a,{in:!0,appear:!0,timeout:500,classNames:_.a},s.a.createElement("h1",{className:_.a.title},"Phonebook")),s.a.createElement(g.a,{in:a,timeout:250,classNames:_.a,unmountOnExit:!0},s.a.createElement("div",{className:_.a.error},c," already exist!"))),s.a.createElement("div",{className:_.a.border},s.a.createElement("form",{className:_.a.form,onSubmit:this.handleSubmit},s.a.createElement("h3",null,"Name"),s.a.createElement("input",{className:_.a.input,name:"name",type:"text",onChange:this.handleInput,value:e}),s.a.createElement("h3",null,"Number"),s.a.createElement(w.a,{mask:"999-99-99",name:"number",className:_.a.input,pattern:"[0-9]{3}-[0-9]{2}-[0-9]{2}",placeholder:"000-00-00",type:"tel",onChange:this.handleInput,value:n}),s.a.createElement("br",null),s.a.createElement("button",{className:_.a.button,type:"submit",disabled:!this.state.name||!this.state.number},"Add contact"))))}}]),n}(i.Component),j={onAddContact:b.addContact},A=Object(u.b)((function(t){return{contacts:N.getContacts(t)}}),j)(O),y=n(151),k=n.n(y),S=n(142),W=n(159),I=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).handleDeleteContact=function(e){return function(){(0,t.props.deleteContact)(e)}},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=this.props.contacts;return s.a.createElement(S.a,{component:"ul",className:k.a.list},e.map((function(e){return s.a.createElement(g.a,{key:e.id,timeout:250,classNames:k.a},s.a.createElement("li",null,s.a.createElement("div",{className:k.a.wrapper},s.a.createElement("div",{className:k.a.container},s.a.createElement("span",{className:k.a.telName},e.name),s.a.createElement("span",{className:k.a.telNumber},e.number),s.a.createElement(W.a,{id:e.id,onClick:t.handleDeleteContact(e.id),variant:"danger"},"\xd7")))))})))}}]),n}(i.Component),F=Object(u.b)((function(t){return{contacts:N.showContacts(t)}}),(function(t){return{deleteContact:function(e){return t(b.deleteContact(e))}}}))(I),L=n(152),q=n.n(L),B={onChangeFilter:f.a.filterByNames},D=Object(u.b)((function(t){return{filter:N.getFilter(t)}}),B)((function(t){var e=t.onChangeFilter,n=t.value;return s.a.createElement("div",{className:q.a.container},s.a.createElement("div",{className:q.a.wrapper},s.a.createElement("p",null,"Find contacts by name"),s.a.createElement("input",{type:"text",onChange:function(t){return e(t.target.value)},value:n,name:"filter"})))})),P=n(153),R=n.n(P),T=n(154),Q=n.n(T),V=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.isLoading,n=t.contacts;return s.a.createElement("div",{className:R.a.wrapper},s.a.createElement("div",{className:R.a.container},e&&s.a.createElement(l.a,null),s.a.createElement(A,null),s.a.createElement(g.a,{in:n.length>1,timeout:500,classNames:Q.a,unmountOnExit:!0},s.a.createElement(D,null)),s.a.createElement(F,null)))}}]),n}(i.Component),Z={fetchContacts:b.fetchContacts};e.default=Object(u.b)((function(t){return{contacts:N.getContacts(t),isLoading:N.getLoading(t)}}),Z)(V)}}]);
//# sourceMappingURL=3.54a9f00d.chunk.js.map