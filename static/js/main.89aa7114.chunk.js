(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{119:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),u=n.n(c),o=n(14),s=n(22),i=n(77),l=n(56),b=n(57),f=n(59),g=n(58),O=n(8),m=[{path:"/",label:"Home",exact:!0,component:Object(r.lazy)((function(){return n.e(7).then(n.bind(null,156))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(r.lazy)((function(){return n.e(6).then(n.bind(null,160))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(r.lazy)((function(){return n.e(5).then(n.bind(null,157))})),private:!1,restricted:!0},{path:"/contacts",label:"TContacts",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,161))})),private:!0,restricted:!1}],j=n(23),p=n(139),d=Object(o.b)((function(e){return{isAuth:j.b.isAuth(e)}}))((function(e){var t=e.isAuth;return a.a.createElement(p.a,{className:"mr-auto"},a.a.createElement(p.a.Link,{as:s.b,to:"/"},"Home"),t&&a.a.createElement(p.a.Link,{as:s.b,to:"/contacts"},"Contact List"))})),h=n(140),E=n(53),v=n.n(E),C=Object(o.b)((function(e){return{name:j.b.getUsername(e)}}),{onLogout:j.a.logOut})((function(e){e.avatar;var t=e.name,n=e.onLogout;return a.a.createElement("div",{className:v.a.container},a.a.createElement("span",{className:v.a.name},"Welcome, ",t),a.a.createElement(h.a,{variant:"contained",onClick:n,color:"primary"},"Logout"))})),S=function(){return a.a.createElement(p.a,null,a.a.createElement(p.a.Link,{as:s.b,to:"/login"},"Login"),a.a.createElement(p.a.Link,{as:s.b,to:"/register"},"Register"))},k=n(141),y=Object(o.b)((function(e){return{isAuth:j.b.isAuth(e)}}))((function(e){var t=e.isAuth;return a.a.createElement(k.a,{collapseOnSelect:!0,bg:"dark",variant:"dark"},a.a.createElement(d,null),t?a.a.createElement(C,null):a.a.createElement(S,null))})),R=n(74),U=n(42),q=Object(o.b)((function(e){return{isAuth:j.b.isAuth(e)}}))((function(e){var t=e.component,n=e.isAuth,r=Object(U.a)(e,["component","isAuth"]);return a.a.createElement(O.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(O.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),x=Object(o.b)((function(e){return{isAuth:j.b.isAuth(e)}}))((function(e){var t=e.component,n=e.isAuth,r=Object(U.a)(e,["component","isAuth"]);return a.a.createElement(O.b,Object.assign({},r,{render:function(e){return n&&r.restricted?a.a.createElement(O.a,{to:"/contacts"}):a.a.createElement(t,e)}}))})),A=n(45),w=(n(88),function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.getCurrentUser()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(y,null),a.a.createElement(r.Suspense,{fallback:a.a.createElement(R.a,null)},a.a.createElement(O.d,null,m.map((function(e){return e.private?a.a.createElement(q,Object.assign({key:e.label},e)):a.a.createElement(x,Object.assign({key:e.label},e))})))))}}]),n}(r.Component)),L={getCurrentUser:A.a.getCurrentUser},_=Object(o.b)(null,L)(w),N=n(3),z=n(37),B=n(54),F=n(83),H=n.n(F),I=n(62),J=n(44),D={key:"auth",storage:H.a,whitelist:["token"]},G=Object(N.a)({reducer:{contacts:I.a,auth:Object(B.a)(D,J.a)},middleware:[z.a]}),K={store:G,persistor:Object(B.b)(G)};u.a.render(a.a.createElement(o.a,{store:K.store},a.a.createElement(i.a,{loading:null,persistor:K.persistor},a.a.createElement(s.a,null,a.a.createElement(_,null)))),document.getElementById("root"))},15:function(e,t,n){"use strict";var r=n(3),a=Object(r.b)("contacts/addRequest"),c=Object(r.b)("contacts/addSuccess"),u=Object(r.b)("contacts/addError"),o=Object(r.b)("contacts/fetchRequest"),s=Object(r.b)("contacts/fetchSuccess"),i=Object(r.b)("contacts/fetchError"),l=Object(r.b)("contacts/deleteRequest"),b=Object(r.b)("contacts/deleteSuccess"),f=Object(r.b)("contacts/deleteError"),g=Object(r.b)("contacts/filter");t.a={addContactRequest:a,addContactSuccess:c,addContactError:u,fetchContactsRequest:o,fetchContactsSuccess:s,fetchContactsError:i,deleteContactRequest:l,deleteContactSuccess:b,deleteContactError:f,filterByNames:g}},23:function(e,t,n){"use strict";n(4),n(44);var r=n(45);n.d(t,"a",(function(){return r.a}));var a=n(61);n.d(t,"b",(function(){return a.a}))},4:function(e,t,n){"use strict";var r=n(3),a=Object(r.b)("auth/registerRequest"),c=Object(r.b)("auth/registerSuccess"),u=Object(r.b)("auth/registerError"),o=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),f=Object(r.b)("auth/logoutError"),g=Object(r.b)("auth/getCurrentUserRequest"),O=Object(r.b)("auth/getCurrentUserSuccess"),m=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:a,registerSuccess:c,registerError:u,logoutRequest:l,logoutSuccess:b,logoutError:f,loginRequest:o,loginSuccess:s,loginError:i,getCurrentUserRequest:g,getCurrentUserSuccess:O,getCurrentUserError:m}},44:function(e,t,n){"use strict";var r,a,c,u,o=n(5),s=n(3),i=n(10),l=n(4),b={name:null,email:null},f=Object(s.c)(b,(r={},Object(o.a)(r,l.a.registerSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,l.a.loginSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,l.a.logoutSuccess,(function(){return b})),Object(o.a)(r,l.a.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),g=Object(s.c)(null,(a={},Object(o.a)(a,l.a.registerSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,l.a.loginSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,l.a.logoutSuccess,(function(){return null})),a)),O=function(e,t){return t.payload},m=Object(s.c)(null,(c={},Object(o.a)(c,l.a.registerError,O),Object(o.a)(c,l.a.loginError,O),Object(o.a)(c,l.a.logoutError,O),Object(o.a)(c,l.a.getCurrentUserError,O),c)),j=Object(s.c)(!1,(u={},Object(o.a)(u,l.a.registerSuccess,(function(){return!0})),Object(o.a)(u,l.a.loginSuccess,(function(){return!0})),Object(o.a)(u,l.a.getCurrentUserSuccess,(function(){return!0})),Object(o.a)(u,l.a.registerError,(function(){return!1})),Object(o.a)(u,l.a.loginError,(function(){return!1})),Object(o.a)(u,l.a.getCurrentUserError,(function(){return!1})),Object(o.a)(u,l.a.logoutSuccess,(function(){return!1})),u));t.a=Object(i.c)({user:f,isAuth:j,token:g,error:m})},45:function(e,t,n){"use strict";var r=n(27),a=n.n(r),c=n(41),u=n(30),o=n.n(u),s=n(4);o.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var i=function(e){o.a.defaults.headers.common.Authorization="Bearer ".concat(e)},l=function(){o.a.defaults.headers.common.Authorization=""};t.a={registerUser:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(s.a.registerRequest()),t.prev=1,t.next=4,o.a.post("/users/signup",e);case 4:r=t.sent,i(r.data.token),n(s.a.registerSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(s.a.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(s.a.logoutRequest()),e.prev=1,e.next=4,o.a.post("/users/logout");case 4:l(),t(s.a.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(s.a.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(s.a.loginRequest()),t.prev=1,t.next=4,o.a.post("/users/login",e);case 4:r=t.sent,i(r.data.token),n(s.a.loginSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(s.a.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),c=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return i(c),t(s.a.getCurrentUserRequest()),e.prev=5,e.next=8,o.a.get("/users/current");case 8:u=e.sent,t(s.a.getCurrentUserSuccess(u.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(s.a.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}}},53:function(e,t,n){e.exports={container:"usermenu_container__3UhGp",avatar:"usermenu_avatar__eb8lK",name:"usermenu_name__1eiFL"}},61:function(e,t,n){"use strict";t.a={isAuth:function(e){return e.auth.isAuth},getUsername:function(e){return e.auth.user.name}}},62:function(e,t,n){"use strict";var r,a,c=n(5),u=n(84),o=n(10),s=n(3),i=n(15),l=Object(s.c)([],(r={},Object(c.a)(r,i.a.fetchContactsSuccess,(function(e,t){return t.payload})),Object(c.a)(r,i.a.addContactSuccess,(function(e,t){return[].concat(Object(u.a)(e),[t.payload])})),Object(c.a)(r,i.a.deleteContactSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),r)),b=Object(s.c)("",Object(c.a)({},i.a.filterByNames,(function(e,t){return t.payload}))),f=Object(s.c)(!1,(a={},Object(c.a)(a,i.a.addContactRequest,(function(){return!0})),Object(c.a)(a,i.a.addContactSuccess,(function(){return!1})),Object(c.a)(a,i.a.addContactError,(function(){return!1})),Object(c.a)(a,i.a.fetchContactsRequest,(function(){return!0})),Object(c.a)(a,i.a.fetchContactsSuccess,(function(){return!1})),Object(c.a)(a,i.a.fetchContactsError,(function(){return!1})),Object(c.a)(a,i.a.deleteContactRequest,(function(){return!0})),Object(c.a)(a,i.a.deleteContactSuccess,(function(){return!1})),Object(c.a)(a,i.a.deleteContactError,(function(){return!1})),a));t.a=Object(o.c)({items:l,loading:f,filter:b})},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),c=(n(119),n(138)),u=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"load"},a.a.createElement(c.a,null)),a.a.createElement("div",{className:"text"},"loading"))}},90:function(e,t,n){e.exports=n(122)}},[[90,1,2]]]);
//# sourceMappingURL=main.89aa7114.chunk.js.map